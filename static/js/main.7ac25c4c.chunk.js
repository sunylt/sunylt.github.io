(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(2),r=n.n(l),i=(n(14),n(3)),o=n(4),s=n(6),E=n(5),u=n(7),d=(n(15),n(16),{9490820:"KEY",50497:"AE",49653:"BTC",49681:"SNT",3756934:"LEND",1712771:"FUEL",8520497:"MTX",6771938:"DEW"}),m=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).state={isLoading:!1,priceList:{},records:[]},n.filterData=function(e){var t=n.state.records;!1!==t[e][4]?t[e][4]=!1:t[e][4]=!0,n.setState({records:t})},n.checkAll=function(){var e=n.state.records;e.forEach(function(e){e[4]=!0}),n.setState({records:e})},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchExchangeRecords().then(function(t){var n=t.data;e.setState({records:n}),e.syncTicker()}),this.login(),this.handleKeyboard()}},{key:"handleKeyboard",value:function(){var e=this;document.body.addEventListener("keydown",function(t){16===t.which&&(e.multiAction=!0)}),document.body.addEventListener("keyup",function(t){16===t.which&&(e.multiAction=!1)})}},{key:"syncTicker",value:function(){var e=this,t=new WebSocket("wss://ws.cn-east.mytokenapi.com/ticker");t.onmessage=function(t){var n=JSON.parse(t.data).data;if(n&&n.tick){var a=e.state.priceList;a[n.tick.symbol]={price:n.tick.price,change:n.tick.percent_change_24h},e.setState({priceList:a})}},t.onopen=function(){t.send(JSON.stringify({event:"ticker",params:{ids:Object.keys(d).map(function(e){return+e})}}))}}},{key:"login",value:function(){}},{key:"fetchExchangeRecords",value:function(){return fetch("https://www.easy-mock.com/mock/59d892fd9d342f449f303370/app/records").then(function(e){return e.json()})}},{key:"render",value:function(){var e=this,t=this,n=this.state,a=n.priceList,l=n.records,r=0,i={};l.forEach(function(e){if(!1!==e[4]&&(r+=parseInt(e[1]),e[2])){var t=e[2].split(/\d+/)[1],n=parseInt(e[2]);"undefined"===typeof i[t]?i[t]=n:i[t]=i[t]+n,i[t]}});var o=l.map(function(e,n){return c.a.createElement("tr",{key:n},c.a.createElement("td",null,e[0]),c.a.createElement("td",null,e[1]),c.a.createElement("td",null,e[2]),c.a.createElement("td",null,c.a.createElement("input",{type:"checkbox",checked:!1!==e[4],onChange:function(){return t.filterData(n)}})),c.a.createElement("td",null,e[3]))}),s=0,E=0,u=0;Object.keys(i).forEach(function(t){i[t]>0&&(u+=1,e.state.priceList[t]&&(s+=i[t]*e.state.priceList[t].price,E+=1))});var d=E===u,m=a.AE&&d;return window.assetsExchanged=i,c.a.createElement("div",{className:"App"},c.a.createElement("h2",null,"\u5151\u6362\u8bb0\u5f55"),c.a.createElement("table",{border:"0",cellPadding:"0",cellSpacing:"0",width:"88%",align:"center"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"20%"},"DATE"),c.a.createElement("th",{width:"25%"},"SELL/BUY AE"),c.a.createElement("th",{width:"25%"},"SELL/BUY TOKEN"),c.a.createElement("th",{width:"33%"},c.a.createElement("span",{id:"check-all",onClick:this.checkAll},"CHECK ALL")),c.a.createElement("th",{width:"27%"},"NOTE"))),c.a.createElement("tbody",null,o,c.a.createElement("tr",null,c.a.createElement("td",null,"BENEFIT"),c.a.createElement("td",{className:"ae-total"},"REMAIN ",c.a.createElement("b",null,r)," AE"),c.a.createElement("td",null,"CONVERT ",c.a.createElement("b",null,m?parseInt(s/a.AE.price):c.a.createElement(p,null))," AE"),c.a.createElement("td",null,"TOTAL ",c.a.createElement("b",null,m?r+parseInt(s/a.AE.price)+" ("+(r+parseInt(s/this.state.priceList.AE.price)-74400)+")":c.a.createElement(p,null))," AE"),c.a.createElement("td",null)))),c.a.createElement("h2",null,"\u5df2\u5151\u6362\u8d44\u4ea7"),c.a.createElement("table",{border:"0",cellPadding:"0",cellSpacing:"0",width:"88%",align:"center",className:"exchangedAssets"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"20%"},"TOKEN"),c.a.createElement("th",{width:"25%"},"CHANGE(24H)"),c.a.createElement("th",{width:"25%"},"PRICE"),c.a.createElement("th",{width:"65%"},"AMOUNT"))),c.a.createElement("tbody",null,Object.keys(i).map(function(e){return c.a.createElement("tr",{key:e},c.a.createElement("td",null,e),c.a.createElement("td",null,a[e]?c.a.createElement(h,{price:a[e].change}):c.a.createElement(p,null)),c.a.createElement("td",null,a[e]?"\uffe5"+a[e].price.toFixed(5):c.a.createElement(p,null)),c.a.createElement("td",null,i[e]))}),c.a.createElement("tr",null,c.a.createElement("td",null,"AE"),c.a.createElement("td",null,a.AE?c.a.createElement(h,{price:a.AE.change}):c.a.createElement(p,null)),c.a.createElement("td",null,a.AE?"\uffe5"+a.AE.price.toFixed(5):c.a.createElement(p,null)),c.a.createElement("td",null,r)))))}}]),t}(a.Component),h=function(e){var t=e.price;return c.a.createElement("span",{style:{color:+t<0?"red":"green"}},t,"%")},p=function(){return c.a.createElement("div",{className:"loadEffect"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))},f=m;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.7ac25c4c.chunk.js.map