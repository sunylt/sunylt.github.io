{"map":"{\"version\":3,\"sources\":[\"/Users/Tony/wwwroot/ae-exchange/src/App.js\",\"/Users/Tony/wwwroot/ae-exchange/src/serviceWorker.js\",\"/Users/Tony/wwwroot/ae-exchange/src/index.js\"],\"names\":[\"TOKENS\",\"Tabs\",\"TabPane\",\"50497\",\"3756934\",\"9490820\",\"9622452\",\"49681\",\"1712771\",\"8520497\",\"6771938\",\"49653\",\"App\",\"state\",\"isLoading\",\"priceList\",\"records\",\"mode\",\"localStorage\",\"getItem\",\"filterData\",\"index\",\"data\",\"_this\",\"setState\",\"checkAll\",\"forEach\",\"r\",\"onChang\",\"e\",\"target\",\"value\",\"setItem\",\"this\",\"JSON\",\"parse\",\"fetchExchangeRecords\",\"then\",\"res\",\"stringify\",\"syncTicker\",\"handleKeyboard\",\"document\",\"body\",\"addEventListener\",\"which\",\"multiAction\",\"ids\",\"ws\",\"WebSocket\",\"onmessage\",\"info\",\"tick\",\"symbol\",\"price\",\"change\",\"percent_change_24h\",\"onopen\",\"send\",\"event\",\"params\",\"Object\",\"keys\",\"map\",\"id\",\"fetch\",\"json\",\"_this2\",\"_this$state\",\"remain\",\"assetsExchanged\",\"parseInt\",\"split\",\"tokenName\",\"amount\",\"i\",\"x\",\"completed\",\"tbenefit\",\"rows\",\"amountToAE\",\"AE\",\"Math\",\"abs\",\"benefit\",\"react_default\",\"a\",\"createElement\",\"key\",\"title\",\"concat\",\"style\",\"paddingLeft\",\"color\",\"App_CheckBox\",\"checked\",\"onClick\",\"exchangedValue\",\"priceSyncCount\",\"needPrice\",\"tokenSymbol\",\"priceSyncOK\",\"canShowPrice\",\"window\",\"className\",\"es_radio\",\"Group\",\"onChange\",\"Button\",\"border\",\"cellPadding\",\"cellSpacing\",\"width\",\"align\",\"token\",\"react\",\"App_PriceView\",\"App_Loading\",\"toFixed\",\"Component\",\"CheckBox\",\"_ref\",\"_ref$onClick\",\"select\",\"PriceView\",\"_ref2\",\"Loading\",\"Boolean\",\"location\",\"hostname\",\"match\",\"ReactDOM\",\"render\",\"src_App_0\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { Component, Fragment } from 'react';\\nimport { Tabs, Radio } from 'antd';\\n//import logo from './logo.svg';\\n\\nimport './App.css';\\n\\nconst { TabPane } = Tabs;\\n\\nconst DEFAULT_AMOUNT = 28000 + 46400\\nconst TOKENS = {\\n  50497: 'AE',\\n  3756934: 'LEND',\\n  9490820: 'KEY',\\n  9622452: 'LET',\\n  49681: 'SNT',\\n  1712771: 'FUEL',\\n  8520497: 'MTX',\\n  6771938: 'DEW',\\n  49653: 'BTC',\\n}\\nconst RED_COLOR = '#ea2870'\\nconst GREEN_COLOR = '#70a700'\\n\\nclass App extends Component {\\n\\n  state = {\\n    isLoading: false,\\n    priceList: {},\\n    records: [],\\n    mode: localStorage.getItem('tabCurrent') || 'a'\\n  }\\n\\n  componentDidMount() {\\n    const  _this = this\\n    const data = localStorage.getItem('data');\\n    const priceList = localStorage.getItem('priceList')\\n\\n    if (data) {\\n      this.setState({\\n        records: JSON.parse(data)\\n      })\\n    }\\n    if (priceList) {\\n      this.setState({\\n        priceList: JSON.parse(priceList)\\n      })\\n    }\\n    this.fetchExchangeRecords().then(res => {\\n      const data = res.data\\n      localStorage.setItem('data', JSON.stringify(data))\\n      _this.setState({\\n        records: data\\n      })\\n      _this.syncTicker()\\n    })\\n\\n    //this.login()\\n    this.handleKeyboard()\\n  }\\n\\n  handleKeyboard(){\\n    const _this = this\\n    document.body.addEventListener('keydown', function(e) {\\n      if (e.which === 16) {\\n        _this.multiAction = true\\n      }\\n    })\\n    document.body.addEventListener('keyup', function(e) {\\n      if (e.which === 16) {\\n        _this.multiAction = false\\n      }\\n    })\\n  }\\n\\n  syncTicker(ids) {\\n    const _this = this\\n    const ws = new WebSocket('wss://ws.cn-east.mytokenapi.com/ticker')\\n    ws.onmessage = function(e) {\\n      const data = JSON.parse(e.data)\\n      const info = data.data\\n      if (info && info.tick) {\\n        const priceList = _this.state.priceList\\n        priceList[info.tick.symbol] = {\\n          price: info.tick.price,\\n          change: info.tick.percent_change_24h\\n        }\\n        _this.setState({\\n          priceList\\n        })\\n        localStorage.setItem('priceList', JSON.stringify(priceList))\\n      }\\n    }\\n    ws.onopen = function() {\\n      ws.send(\\n        JSON.stringify({\\n          event:\\\"ticker\\\",\\n          params:{\\n            ids: Object.keys(TOKENS).map(id => +id)\\n          }\\n        })\\n      )\\n    }\\n  }\\n\\n  fetchExchangeRecords() {\\n    return fetch('https://www.easy-mock.com/mock/59d892fd9d342f449f303370/app/records').then(res => res.json())\\n  }\\n\\n  filterData = (index) => {\\n    const data = this.state.records\\n    if (data[index][4] !== false) {\\n      data[index][4] = false\\n    } else {\\n      data[index][4] = true\\n    }\\n\\n    this.setState({\\n      records: data\\n    }) \\n  }\\n\\n  checkAll = () => {\\n    const data = this.state.records\\n    data.forEach(r => {\\n      r[4] = true\\n    })\\n    this.setState({\\n      records: data\\n    })\\n  }\\n\\n  onChang = (e) => {\\n    const mode = e.target.value;\\n    this.setState({ mode });\\n    localStorage.setItem('tabCurrent', mode)\\n  }\\n\\n  render() {\\n    const _this = this\\n    const { priceList, records, mode } = this.state\\n    let remain = 0\\n    const assetsExchanged = {}\\n    records.forEach((data, index) => {\\n    \\n      if (data[4] === false) {\\n        return\\n      }\\n      remain += parseInt(data[1])\\n\\n      // 如果有兑换记录\\n      if (data[2]) {\\n        const res = data[2].split(/\\\\d+/)\\n        //const isAdd = res[0] === '+'\\n        const tokenName = res[1]\\n        const amount = parseInt(data[2])\\n        if (typeof assetsExchanged[tokenName] === 'undefined') {\\n          assetsExchanged[tokenName] = amount\\n        } else {\\n          assetsExchanged[tokenName] = assetsExchanged[tokenName] + amount\\n        }\\n        if (assetsExchanged[tokenName] === 0) {\\n          records.forEach((r, i) => {\\n            let x = r[2].split(/\\\\d+/)\\n            if (i <= index && res[1] === x[1]) {\\n              r.completed = true\\n            }\\n          })\\n        }\\n      }\\n    })\\n\\n    let tbenefit = 0\\n\\n    const rows = records.map((data, index) => {\\n      const res = data[2].split(/\\\\d+/)\\n      const tokenName = res[1]\\n      const amount = parseInt(data[2])\\n      let amountToAE = ''\\n      if (priceList[tokenName] && priceList.AE) {\\n        amountToAE = parseInt((Math.abs(amount) * priceList[tokenName].price)/priceList.AE.price)\\n      }\\n      const benefit = amountToAE && !data.completed ? (data[1] < 0 && amountToAE - Math.abs(data[1]) > 0  ? '+' : '') + (amountToAE - Math.abs(data[1])) : ''\\n      if (benefit) {\\n        tbenefit += parseInt(benefit)\\n      }\\n      return (\\n      <tr key={index}>\\n        <td>{data[0]}</td>\\n        <td>{data[1]}</td>\\n        <td title={amountToAE ? `≈${amountToAE}AE` : ''}>{data[2]}</td>\\n        <td>\\n          <span style={{paddingLeft: '3px', color: data[1] < 0 && amountToAE - Math.abs(data[1]) > 0  ? GREEN_COLOR : RED_COLOR}}>\\n            { benefit }\\n          </span>\\n          <CheckBox  checked={data[4] !== false ? true: false} onClick={() => _this.filterData(index)} />\\n        </td>\\n        <td>{data[3]}</td>\\n    </tr>)})\\n\\n    let exchangedValue = 0\\n    let priceSyncCount = 0\\n    let needPrice = 0\\n    Object.keys(assetsExchanged).forEach(tokenSymbol => {\\n      if (assetsExchanged[tokenSymbol] > 0) {\\n        needPrice +=1\\n        if (this.state.priceList[tokenSymbol]) {\\n          exchangedValue += assetsExchanged[tokenSymbol] * this.state.priceList[tokenSymbol].price\\n          priceSyncCount += 1\\n        }\\n      }\\n    })\\n\\n    const priceSyncOK = priceSyncCount === needPrice\\n    const canShowPrice = priceList.AE && priceSyncOK\\n    //const btc = priceList.BTC && canShowPrice ? (exchangedValue + remain * priceList.AE)/priceList.BTC : ''\\n\\n    window.assetsExchanged = assetsExchanged\\n    window.records = records\\n    return (\\n      <div className=\\\"App\\\">\\n        {/* <div className=\\\"login\\\">\\n          <input type=\\\"password\\\" placeholder=\\\"请输入密码\\\" />\\n        </div> */}\\n        <div className=\\\"App-header\\\">\\n        <Radio.Group onChange={this.onChang} value={mode}>\\n          <Radio.Button value=\\\"a\\\">行情</Radio.Button>\\n          <Radio.Button value=\\\"b\\\">操作</Radio.Button>\\n        </Radio.Group>\\n        </div>\\n        \\n        <div className=\\\"container\\\">\\n        {\\n          mode === 'a' ?\\n\\n          <table border=\\\"0\\\" cellPadding=\\\"0\\\" cellSpacing=\\\"0\\\" width=\\\"88%\\\" align=\\\"center\\\" className=\\\"exchangedAssets\\\">\\n            <thead>\\n              <tr>\\n                <th width=\\\"18%\\\">TOKEN</th>\\n                <th width=\\\"20%\\\">CHANGE(24H)</th>\\n                <th width=\\\"20%\\\">PRICE</th>                \\n                <th width=\\\"22%\\\">AMOUNT</th>\\n                <th width=\\\"20%\\\">BANLANCE</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              {\\n                Object.keys(assetsExchanged).map(token => {\\n                    return assetsExchanged[token] > 0 ? <tr key={token}><td>{token}</td><td>{priceList[token] ? <Fragment><PriceView price={priceList[token].change} />%</Fragment> : <Loading />}</td><td>{ priceList[token] ? '￥' + priceList[token].price.toFixed(5) : <Loading /> }</td><td>{assetsExchanged[token]}</td><td>{priceList[token] ? '￥' + parseInt(priceList[token].price.toFixed(5) * assetsExchanged[token]) : <Loading />}</td></tr> : null\\n                  })\\n              }\\n              <tr>\\n                <td>AE</td><td>{priceList.AE ? <Fragment><PriceView price={priceList.AE.change} />%</Fragment> : <Loading />}</td><td>{ priceList.AE ? '￥' + priceList.AE.price.toFixed(5) : <Loading /> }</td><td>{ remain }</td><td>{priceList.AE ? '￥' + parseInt(priceList.AE.price.toFixed(5) * remain) : <Loading />}</td>\\n              </tr>\\n            </tbody>\\n        </table>\\n        \\n        :\\n\\n        <table border=\\\"0\\\" cellPadding=\\\"0\\\" cellSpacing=\\\"0\\\" width=\\\"88%\\\" align=\\\"center\\\" className=\\\"exchange-list\\\">\\n          <colgroup>\\n            <col />\\n            <col />\\n            <col />\\n            <col />\\n            <col />\\n          </colgroup>\\n          <thead>\\n            <tr>\\n              <th width=\\\"18%\\\">DATE</th>\\n              <th width=\\\"20%\\\">AE</th>\\n              <th width=\\\"20%\\\">TOKEN</th>\\n              <th width=\\\"22%\\\">ALL<CheckBox checked={true} onClick={this.checkAll} /></th>\\n              <th width=\\\"20%\\\">NOTE</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            { rows }\\n            <tr>\\n              <td>SUM</td>\\n              <td className=\\\"ae-total\\\"><b>{remain}</b> AE</td>\\n              <td><b>{canShowPrice ? parseInt(exchangedValue/priceList.AE.price) : <Loading />}</b> AE</td>\\n              <td><b>{canShowPrice ? \\n                <PriceView price={tbenefit} />\\n                :\\n                 <Loading />\\n                 /*\\n                 // 总额\\n                remain + parseInt(exchangedValue/priceList.AE.price)\\n                 // 总收益\\n                 (remain + parseInt(exchangedValue/this.state.priceList.AE.price) - DEFAULT_AMOUNT)\\n                 */\\n              }</b> AE</td>\\n              <td></td>\\n            </tr>\\n          </tbody>\\n        </table>\\n\\n        }\\n\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst CheckBox = ({checked, onClick = ()=> {}}) => {\\n  return (\\n    checked ? \\n      <span className=\\\"ui-checkbox\\\" select=\\\"true\\\" onClick={onClick}></span>\\n      :\\n      <span className=\\\"ui-checkbox\\\" onClick={onClick}></span>\\n    )\\n}\\n\\nconst PriceView = ({price}) => {\\n  return <span style={{color: +price < 0 ? RED_COLOR : GREEN_COLOR}}>{ price }</span>\\n}\\n\\nconst Loading = () => (\\n  <div className=\\\"loadEffect\\\">\\n      <span></span>\\n      <span></span>\\n      <span></span>\\n      <span></span>\\n      <span></span>\\n      <span></span>\\n      <span></span>\\n      <span></span>\\n  </div>\\n)\\n\\nexport default App;\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read https://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){\"use strict\";a.r(t);var n=a(0),l=a.n(n),c=a(31),r=a.n(c),i=(a(86),a(66)),o=a(67),s=a(78),m=a(68),u=a(79),E=a(151),d=a(152),h=(a(87),E.a.TabPane,{50497:\"AE\",3756934:\"LEND\",9490820:\"KEY\",9622452:\"LET\",49681:\"SNT\",1712771:\"FUEL\",8520497:\"MTX\",6771938:\"DEW\",49653:\"BTC\"}),p=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={isLoading:!1,priceList:{},records:[],mode:localStorage.getItem(\"tabCurrent\")||\"a\"},a.filterData=function(e){var t=a.state.records;!1!==t[e][4]?t[e][4]=!1:t[e][4]=!0,a.setState({records:t})},a.checkAll=function(){var e=a.state.records;e.forEach(function(e){e[4]=!0}),a.setState({records:e})},a.onChang=function(e){var t=e.target.value;a.setState({mode:t}),localStorage.setItem(\"tabCurrent\",t)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:\"componentDidMount\",value:function(){var e=this,t=localStorage.getItem(\"data\"),a=localStorage.getItem(\"priceList\");t&&this.setState({records:JSON.parse(t)}),a&&this.setState({priceList:JSON.parse(a)}),this.fetchExchangeRecords().then(function(t){var a=t.data;localStorage.setItem(\"data\",JSON.stringify(a)),e.setState({records:a}),e.syncTicker()}),this.handleKeyboard()}},{key:\"handleKeyboard\",value:function(){var e=this;document.body.addEventListener(\"keydown\",function(t){16===t.which&&(e.multiAction=!0)}),document.body.addEventListener(\"keyup\",function(t){16===t.which&&(e.multiAction=!1)})}},{key:\"syncTicker\",value:function(e){var t=this,a=new WebSocket(\"wss://ws.cn-east.mytokenapi.com/ticker\");a.onmessage=function(e){var a=JSON.parse(e.data).data;if(a&&a.tick){var n=t.state.priceList;n[a.tick.symbol]={price:a.tick.price,change:a.tick.percent_change_24h},t.setState({priceList:n}),localStorage.setItem(\"priceList\",JSON.stringify(n))}},a.onopen=function(){a.send(JSON.stringify({event:\"ticker\",params:{ids:Object.keys(h).map(function(e){return+e})}}))}}},{key:\"fetchExchangeRecords\",value:function(){return fetch(\"https://www.easy-mock.com/mock/59d892fd9d342f449f303370/app/records\").then(function(e){return e.json()})}},{key:\"render\",value:function(){var e=this,t=this,a=this.state,c=a.priceList,r=a.records,i=a.mode,o=0,s={};r.forEach(function(e,t){if(!1!==e[4]&&(o+=parseInt(e[1]),e[2])){var a=e[2].split(/\\d+/),n=a[1],l=parseInt(e[2]);\"undefined\"===typeof s[n]?s[n]=l:s[n]=s[n]+l,0===s[n]&&r.forEach(function(e,n){var l=e[2].split(/\\d+/);n<=t&&a[1]===l[1]&&(e.completed=!0)})}});var m=0,u=r.map(function(e,a){var n=e[2].split(/\\d+/)[1],r=parseInt(e[2]),i=\"\";c[n]&&c.AE&&(i=parseInt(Math.abs(r)*c[n].price/c.AE.price));var o=i&&!e.completed?(e[1]<0&&i-Math.abs(e[1])>0?\"+\":\"\")+(i-Math.abs(e[1])):\"\";return o&&(m+=parseInt(o)),l.a.createElement(\"tr\",{key:a},l.a.createElement(\"td\",null,e[0]),l.a.createElement(\"td\",null,e[1]),l.a.createElement(\"td\",{title:i?\"\\u2248\".concat(i,\"AE\"):\"\"},e[2]),l.a.createElement(\"td\",null,l.a.createElement(\"span\",{style:{paddingLeft:\"3px\",color:e[1]<0&&i-Math.abs(e[1])>0?\"#70a700\":\"#ea2870\"}},o),l.a.createElement(f,{checked:!1!==e[4],onClick:function(){return t.filterData(a)}})),l.a.createElement(\"td\",null,e[3]))}),E=0,h=0,p=0;Object.keys(s).forEach(function(t){s[t]>0&&(p+=1,e.state.priceList[t]&&(E+=s[t]*e.state.priceList[t].price,h+=1))});var k=h===p,w=c.AE&&k;return window.assetsExchanged=s,window.records=r,l.a.createElement(\"div\",{className:\"App\"},l.a.createElement(\"div\",{className:\"App-header\"},l.a.createElement(d.a.Group,{onChange:this.onChang,value:i},l.a.createElement(d.a.Button,{value:\"a\"},\"\\u884c\\u60c5\"),l.a.createElement(d.a.Button,{value:\"b\"},\"\\u64cd\\u4f5c\"))),l.a.createElement(\"div\",{className:\"container\"},\"a\"===i?l.a.createElement(\"table\",{border:\"0\",cellPadding:\"0\",cellSpacing:\"0\",width:\"88%\",align:\"center\",className:\"exchangedAssets\"},l.a.createElement(\"thead\",null,l.a.createElement(\"tr\",null,l.a.createElement(\"th\",{width:\"18%\"},\"TOKEN\"),l.a.createElement(\"th\",{width:\"20%\"},\"CHANGE(24H)\"),l.a.createElement(\"th\",{width:\"20%\"},\"PRICE\"),l.a.createElement(\"th\",{width:\"22%\"},\"AMOUNT\"),l.a.createElement(\"th\",{width:\"20%\"},\"BANLANCE\"))),l.a.createElement(\"tbody\",null,Object.keys(s).map(function(e){return s[e]>0?l.a.createElement(\"tr\",{key:e},l.a.createElement(\"td\",null,e),l.a.createElement(\"td\",null,c[e]?l.a.createElement(n.Fragment,null,l.a.createElement(g,{price:c[e].change}),\"%\"):l.a.createElement(v,null)),l.a.createElement(\"td\",null,c[e]?\"\\uffe5\"+c[e].price.toFixed(5):l.a.createElement(v,null)),l.a.createElement(\"td\",null,s[e]),l.a.createElement(\"td\",null,c[e]?\"\\uffe5\"+parseInt(c[e].price.toFixed(5)*s[e]):l.a.createElement(v,null))):null}),l.a.createElement(\"tr\",null,l.a.createElement(\"td\",null,\"AE\"),l.a.createElement(\"td\",null,c.AE?l.a.createElement(n.Fragment,null,l.a.createElement(g,{price:c.AE.change}),\"%\"):l.a.createElement(v,null)),l.a.createElement(\"td\",null,c.AE?\"\\uffe5\"+c.AE.price.toFixed(5):l.a.createElement(v,null)),l.a.createElement(\"td\",null,o),l.a.createElement(\"td\",null,c.AE?\"\\uffe5\"+parseInt(c.AE.price.toFixed(5)*o):l.a.createElement(v,null))))):l.a.createElement(\"table\",{border:\"0\",cellPadding:\"0\",cellSpacing:\"0\",width:\"88%\",align:\"center\",className:\"exchange-list\"},l.a.createElement(\"colgroup\",null,l.a.createElement(\"col\",null),l.a.createElement(\"col\",null),l.a.createElement(\"col\",null),l.a.createElement(\"col\",null),l.a.createElement(\"col\",null)),l.a.createElement(\"thead\",null,l.a.createElement(\"tr\",null,l.a.createElement(\"th\",{width:\"18%\"},\"DATE\"),l.a.createElement(\"th\",{width:\"20%\"},\"AE\"),l.a.createElement(\"th\",{width:\"20%\"},\"TOKEN\"),l.a.createElement(\"th\",{width:\"22%\"},\"ALL\",l.a.createElement(f,{checked:!0,onClick:this.checkAll})),l.a.createElement(\"th\",{width:\"20%\"},\"NOTE\"))),l.a.createElement(\"tbody\",null,u,l.a.createElement(\"tr\",null,l.a.createElement(\"td\",null,\"SUM\"),l.a.createElement(\"td\",{className:\"ae-total\"},l.a.createElement(\"b\",null,o),\" AE\"),l.a.createElement(\"td\",null,l.a.createElement(\"b\",null,w?parseInt(E/c.AE.price):l.a.createElement(v,null)),\" AE\"),l.a.createElement(\"td\",null,l.a.createElement(\"b\",null,w?l.a.createElement(g,{price:m}):l.a.createElement(v,null)),\" AE\"),l.a.createElement(\"td\",null))))))}}]),t}(n.Component),f=function(e){var t=e.checked,a=e.onClick,n=void 0===a?function(){}:a;return t?l.a.createElement(\"span\",{className:\"ui-checkbox\",select:\"true\",onClick:n}):l.a.createElement(\"span\",{className:\"ui-checkbox\",onClick:n})},g=function(e){var t=e.price;return l.a.createElement(\"span\",{style:{color:+t<0?\"#ea2870\":\"#70a700\"}},t)},v=function(){return l.a.createElement(\"div\",{className:\"loadEffect\"},l.a.createElement(\"span\",null),l.a.createElement(\"span\",null),l.a.createElement(\"span\",null),l.a.createElement(\"span\",null),l.a.createElement(\"span\",null),l.a.createElement(\"span\",null),l.a.createElement(\"span\",null),l.a.createElement(\"span\",null))},k=p;Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(k,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},81:function(e,t,a){e.exports=a(149)},86:function(e,t,a){},87:function(e,t,a){}},[[81,1,2]]]);","extractedComments":[]}